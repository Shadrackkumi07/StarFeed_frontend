{"ast":null,"code":"var _jsxFileName = \"D:\\\\CoSchedule\\\\coschedule_frontend\\\\src\\\\components\\\\Comments.jsx\",\n  _s = $RefreshSig$();\n// src/components/Comments.jsx\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../auth/AuthProvider';\nimport api from '../api';\nimport NewCommentForm from './NewCommentForm';\nimport CommentItem from './CommentItem';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Comments({\n  itemId\n}) {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const fetchComments = useCallback(async () => {\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await api.get('/comments', {\n        params: {\n          itemId\n        }\n      });\n      setComments(data);\n    } catch {\n      setError('Could not load comments');\n    } finally {\n      setLoading(false);\n    }\n  }, [itemId]);\n  useEffect(() => {\n    fetchComments();\n  }, [fetchComments]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center py-4 text-gray-500\",\n    children: \"Loading comments\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center py-4 text-red-600\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-2xl font-bold border-b pb-2\",\n      children: \"Comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewCommentForm, {\n      onSuccess: () => fetchComments(),\n      currentUser: currentUser,\n      itemId: itemId,\n      setError: setError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-4\",\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: comments.map(c => /*#__PURE__*/_jsxDEV(motion.li, {\n          initial: {\n            opacity: 0,\n            y: -10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            scale: 0.95\n          },\n          children: /*#__PURE__*/_jsxDEV(CommentItem, {\n            comment: c,\n            currentUser: currentUser,\n            onEditedOrDeleted: () => fetchComments(),\n            setError: setError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(Comments, \"DAWLcmDOI/TGLHJbpI5w7RgA4T4=\", false, function () {\n  return [useAuth];\n});\n_c = Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","api","NewCommentForm","CommentItem","AnimatePresence","motion","jsxDEV","_jsxDEV","Comments","itemId","_s","currentUser","comments","setComments","loading","setLoading","error","setError","fetchComments","data","get","params","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSuccess","map","c","li","initial","opacity","y","animate","exit","scale","comment","onEditedOrDeleted","_id","_c","$RefreshReg$"],"sources":["D:/CoSchedule/coschedule_frontend/src/components/Comments.jsx"],"sourcesContent":["// src/components/Comments.jsx\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '../auth/AuthProvider';\r\nimport api from '../api';\r\nimport NewCommentForm from './NewCommentForm';\r\nimport CommentItem from './CommentItem';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\n\r\nexport default function Comments({ itemId }) {\r\n  const { currentUser } = useAuth();\r\n  const [comments, setComments] = useState([]);\r\n  const [loading, setLoading]   = useState(true);\r\n  const [error, setError]       = useState('');\r\n\r\n  const fetchComments = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get('/comments', { params: { itemId } });\r\n      setComments(data);\r\n    } catch {\r\n      setError('Could not load comments');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [itemId]);\r\n\r\n  useEffect(() => {\r\n    fetchComments();\r\n  }, [fetchComments]);\r\n\r\n  if (loading) return <p className=\"text-center py-4 text-gray-500\">Loading commentsâ€¦</p>;\r\n  if (error)   return <p className=\"text-center py-4 text-red-600\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h4 className=\"text-2xl font-bold border-b pb-2\">Comments</h4>\r\n\r\n      <NewCommentForm\r\n        onSuccess={() => fetchComments()}\r\n        currentUser={currentUser}\r\n        itemId={itemId}\r\n        setError={setError}\r\n      />\r\n\r\n      <ul className=\"space-y-4\">\r\n        <AnimatePresence>\r\n          {comments.map(c => (\r\n            <motion.li\r\n              key={c._id}\r\n              initial={{ opacity: 0, y: -10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, scale: 0.95 }}\r\n            >\r\n              <CommentItem\r\n                comment={c}\r\n                currentUser={currentUser}\r\n                onEditedOrDeleted={() => fetchComments()}\r\n                setError={setError}\r\n              />\r\n            </motion.li>\r\n          ))}\r\n        </AnimatePresence>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}